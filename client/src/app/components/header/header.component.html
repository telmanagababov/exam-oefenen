<header class="duo-header">
  <div class="header-container">
    @if (showTimer()) {
      <div class="timer-wrapper">
        <div class="timer">
          <span>{{ formattedTimeLeft() }}</span>
        </div>
        @if (showTimeWarning()) {
          <div class="time-warning-popup">De tijd is bijna om!</div>
        }
      </div>
    } @else {
      <a (click)="onLogoClick()" class="logo" style="cursor: pointer">
        <h1>Oefenen</h1>
      </a>
      @if (showSettingsButton()) {
        <button
          type="button"
          class="settings-button"
          (click)="onSettingsClick()"
          aria-label="Gemini API Instellingen"
          title="Gemini API Instellingen"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="currentColor"
            viewBox="0 0 16 16"
          >
            <path
              d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"
            />
            <path
              d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319z"
            />
          </svg>
        </button>
      }
    }
  </div>
</header>

@if (showConfigModal()) {
  <app-gemini-config-modal
    (close)="onConfigModalClose()"
    (save)="onConfigModalSave()"
  />
}
